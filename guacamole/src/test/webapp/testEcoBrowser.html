<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>QUnit::EcoBrowser</title>
  <link rel="stylesheet" href="http://code.jquery.com/qunit/qunit-1.19.0.css">
</head>
<body>
  <div id="qunit"></div>
  <div id="qunit-fixture"></div>
  <script src="http://code.jquery.com/qunit/qunit-1.19.0.js"></script>
  <script src="../../main/webapp/ecoBrowser.js"></script>
<script>

  var checkIfBrowserIs = function(target, userAgent) {
    var browser = new EcoBrowser(/*msg*/null, /*version*/'');
    var found = browser.getBrowser(userAgent).toLowerCase();
    var expected = target.toLowerCase();
    if (found !== expected) {
      console.log('[QUnit::EcoBrowser] checkIfBrowserIs expected "' + expected + '" but found "' + found + '"');
    }
    return (found === expected);
  };
  
  QUnit.module("EcoBrowser.getBrowser()");
  
  QUnit.test( "Firefox", function( assert ) {
    assert.ok(checkIfBrowserIs(
      'Firefox', 
      'Mozilla/5.0 (Windows NT 6.1; WOW64; rv:40.0) Gecko/20100101 Firefox/40.1'
    ));
  });
  
  QUnit.test( "Chrome", function( assert ) {
    assert.ok(checkIfBrowserIs(
      'Chrome', 
      'Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2228.0 Safari/537.36'
    ));
  });
  
  QUnit.test( "IE11", function( assert ) {
    assert.ok(checkIfBrowserIs(
      'MSIE', 
      'Mozilla/5.0 (Windows NT 6.1; WOW64; Trident/7.0; AS; rv:11.0) like Gecko'
    ));
    assert.ok(checkIfBrowserIs(
      'MSIE', 
      'Mozilla/5.0 (compatible, MSIE 11, Windows NT 6.3; Trident/7.0; rv:11.0) like Gecko'
    ));
  });
  
  QUnit.test( "IE10", function( assert ) {
    assert.ok(checkIfBrowserIs(
      'MSIE', 
      'Mozilla/5.0 (compatible; MSIE 10.6; Windows NT 6.1; Trident/5.0; InfoPath.2; SLCC1; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729; .NET CLR 2.0.50727) 3gpp-gba UNTRUSTED/1.0'
    ));
  });
  
  QUnit.test( "Edge", function( assert ) {
    assert.ok(checkIfBrowserIs(
      'MSIE', 
      'Mozilla/5.0 (Windows NT 10.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/42.0.2311.135 Safari/537.36 Edge/12.10136'
    ));
  });
  
  QUnit.test( "Opera", function( assert ) {
    assert.ok(checkIfBrowserIs(
      'Opera', 
      'Opera/9.80 (J2ME/MIDP; Opera Mini/9.80 (J2ME/22.478; U; en) Presto/2.5.25 Version/10.54'
    ));
    assert.ok(checkIfBrowserIs(
      'opera', 
      'Opera/9.80 (X11; Linux i686; Ubuntu/14.10) Presto/2.12.388 Version/12.16'
    ));
  });
  
  QUnit.test( "Safari", function( assert ) {
    assert.ok(checkIfBrowserIs(
      'safari', 
      'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_3) AppleWebKit/537.75.14 (KHTML, like Gecko) Version/7.0.3 Safari/7046A194A'
    ));
    assert.ok(checkIfBrowserIs(
      'safari', 
      'Mozilla/5.0 (iPad; CPU OS 6_0 like Mac OS X) AppleWebKit/536.26 (KHTML, like Gecko) Version/6.0 Mobile/10A5355d Safari/8536.25'
    ));
  });
  
  QUnit.test( "Undefined", function( assert ) {
    assert.ok(checkIfBrowserIs(
      'Undefined', 
      'Mozilla/5.0 (Windows; U; Windows NT 6.2; WOW64; rv:1.8.0.7) Gecko/20110321 MultiZilla/4.33.2.6a SeaMonkey/8.6.55'
    ));
    assert.ok(checkIfBrowserIs(
      'Undefined', 
      'This is not a valid user agent string'
    ));
  });
  
</script>
</body>
</html>